/*
 * teste_adc.c
 *
 *  Created on: 27 Dec 2023
 *
 *      compile with "gcc -o teste_adc teste_adc.c -lpigpio -lrt -lpthread"
 *      run with ".teste_adc"
 */

#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>
#include <unistd.h>

#include "/home/projetoind/ABElectronics_C_Libraries/ADCDACPi/ABE_ADCDACPi.h"
#define numberofsamples 100000

void clearscreen ()
{
    printf("\033[2J\033[1;1H");
}

int main(int argc, char **argv){

setvbuf (stdout, NULL, _IONBF, 0); // needed to print to the command line
	if (open_adc() != 1){ // open the ADC SPI channel
			printf("Erro no SPI\n");
			exit(1); // if the SPI bus fails to open exit the program
		}

    double samplearray[numberofsamples];

    int x;
	for (x = 0; x < numberofsamples; x++)
	{
		samplearray[x] = read_adc_voltage(1, 0); // read from adc channel 1
	}
    







































































































































































































































































































































































































































































































































































































































































































































	
return 0;
}
